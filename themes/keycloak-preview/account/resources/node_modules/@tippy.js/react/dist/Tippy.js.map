{"version":3,"file":"Tippy.js","sources":["../src/Tippy.js"],"sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport PropTypes from 'prop-types'\nimport tippy from 'tippy.js'\n\n// These props are not native to `tippy.js` and are specific to React only.\nconst REACT_ONLY_PROPS = ['children', 'onCreate', 'isVisible', 'isEnabled']\n\n// Avoid Babel's large '_objectWithoutProperties' helper function.\nfunction getNativeTippyProps(props) {\n  return Object.keys(props).reduce((acc, key) => {\n    if (REACT_ONLY_PROPS.indexOf(key) === -1) {\n      acc[key] = props[key]\n    }\n    return acc\n  }, {})\n}\n\nclass Tippy extends React.Component {\n  state = { isMounted: false }\n\n  container = typeof document !== 'undefined' && document.createElement('div')\n\n  static propTypes = {\n    content: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n      .isRequired,\n    children: PropTypes.element.isRequired,\n    onCreate: PropTypes.func,\n    isVisible: PropTypes.bool,\n    isEnabled: PropTypes.bool\n  }\n\n  get isReactElementContent() {\n    return React.isValidElement(this.props.content)\n  }\n\n  get options() {\n    return {\n      ...getNativeTippyProps(this.props),\n      content: this.isReactElementContent ? this.container : this.props.content\n    }\n  }\n\n  get isManualTrigger() {\n    return this.props.trigger === 'manual'\n  }\n\n  componentDidMount() {\n    this.setState({ isMounted: true })\n\n    this.tip = tippy.one(ReactDOM.findDOMNode(this), this.options)\n\n    const { onCreate, isEnabled, isVisible } = this.props\n\n    if (onCreate) {\n      onCreate(this.tip)\n    }\n\n    if (isEnabled === false) {\n      this.tip.disable()\n    }\n\n    if (this.isManualTrigger && isVisible === true) {\n      this.tip.show()\n    }\n  }\n\n  componentDidUpdate() {\n    this.tip.set(this.options)\n\n    const { isEnabled, isVisible } = this.props\n\n    if (isEnabled === true) {\n      this.tip.enable()\n    }\n    if (isEnabled === false) {\n      this.tip.disable()\n    }\n\n    if (this.isManualTrigger) {\n      if (isVisible === true) {\n        this.tip.show()\n      }\n      if (isVisible === false) {\n        this.tip.hide()\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.tip.destroy()\n    this.tip = null\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.children}\n        {this.isReactElementContent &&\n          this.state.isMounted &&\n          ReactDOM.createPortal(this.props.content, this.container)}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default Tippy\n"],"names":["REACT_ONLY_PROPS","getNativeTippyProps","props","Object","keys","reduce","acc","key","indexOf","Tippy","state","isMounted","container","document","createElement","setState","tip","tippy","one","ReactDOM","findDOMNode","options","onCreate","isEnabled","isVisible","disable","isManualTrigger","show","set","enable","hide","destroy","children","isReactElementContent","createPortal","content","React","isValidElement","trigger","Component","propTypes","PropTypes","oneOfType","string","element","isRequired","func","bool"],"mappings":"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"}