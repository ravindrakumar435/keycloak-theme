{"version":3,"file":"Tippy.js","sources":["../../src/Tippy.js"],"sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport PropTypes from 'prop-types'\nimport tippy from 'tippy.js'\n\n// These props are not native to `tippy.js` and are specific to React only.\nconst REACT_ONLY_PROPS = ['children', 'onCreate', 'isVisible', 'isEnabled']\n\n// Avoid Babel's large '_objectWithoutProperties' helper function.\nfunction getNativeTippyProps(props) {\n  return Object.keys(props).reduce((acc, key) => {\n    if (REACT_ONLY_PROPS.indexOf(key) === -1) {\n      acc[key] = props[key]\n    }\n    return acc\n  }, {})\n}\n\nclass Tippy extends React.Component {\n  state = { isMounted: false }\n\n  container = typeof document !== 'undefined' && document.createElement('div')\n\n  static propTypes = {\n    content: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n      .isRequired,\n    children: PropTypes.element.isRequired,\n    onCreate: PropTypes.func,\n    isVisible: PropTypes.bool,\n    isEnabled: PropTypes.bool\n  }\n\n  get isReactElementContent() {\n    return React.isValidElement(this.props.content)\n  }\n\n  get options() {\n    return {\n      ...getNativeTippyProps(this.props),\n      content: this.isReactElementContent ? this.container : this.props.content\n    }\n  }\n\n  get isManualTrigger() {\n    return this.props.trigger === 'manual'\n  }\n\n  componentDidMount() {\n    this.setState({ isMounted: true })\n\n    this.tip = tippy.one(ReactDOM.findDOMNode(this), this.options)\n\n    const { onCreate, isEnabled, isVisible } = this.props\n\n    if (onCreate) {\n      onCreate(this.tip)\n    }\n\n    if (isEnabled === false) {\n      this.tip.disable()\n    }\n\n    if (this.isManualTrigger && isVisible === true) {\n      this.tip.show()\n    }\n  }\n\n  componentDidUpdate() {\n    this.tip.set(this.options)\n\n    const { isEnabled, isVisible } = this.props\n\n    if (isEnabled === true) {\n      this.tip.enable()\n    }\n    if (isEnabled === false) {\n      this.tip.disable()\n    }\n\n    if (this.isManualTrigger) {\n      if (isVisible === true) {\n        this.tip.show()\n      }\n      if (isVisible === false) {\n        this.tip.hide()\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.tip.destroy()\n    this.tip = null\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.children}\n        {this.isReactElementContent &&\n          this.state.isMounted &&\n          ReactDOM.createPortal(this.props.content, this.container)}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default Tippy\n"],"names":["REACT_ONLY_PROPS","getNativeTippyProps","props","Object","keys","reduce","acc","key","indexOf","Tippy","state","isMounted","container","document","createElement","setState","tip","tippy","one","ReactDOM","findDOMNode","options","onCreate","isEnabled","isVisible","disable","isManualTrigger","show","set","enable","hide","destroy","children","isReactElementContent","createPortal","content","React","isValidElement","trigger","Component","propTypes","PropTypes","oneOfType","string","element","isRequired","func","bool"],"mappings":"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"}