{"version":3,"file":"Tippy.min.js","sources":["../src/Tippy.js"],"sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport PropTypes from 'prop-types'\nimport tippy from 'tippy.js'\n\n// These props are not native to `tippy.js` and are specific to React only.\nconst REACT_ONLY_PROPS = ['children', 'onCreate', 'isVisible', 'isEnabled']\n\n// Avoid Babel's large '_objectWithoutProperties' helper function.\nfunction getNativeTippyProps(props) {\n  return Object.keys(props).reduce((acc, key) => {\n    if (REACT_ONLY_PROPS.indexOf(key) === -1) {\n      acc[key] = props[key]\n    }\n    return acc\n  }, {})\n}\n\nclass Tippy extends React.Component {\n  state = { isMounted: false }\n\n  container = typeof document !== 'undefined' && document.createElement('div')\n\n  static propTypes = {\n    content: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n      .isRequired,\n    children: PropTypes.element.isRequired,\n    onCreate: PropTypes.func,\n    isVisible: PropTypes.bool,\n    isEnabled: PropTypes.bool\n  }\n\n  get isReactElementContent() {\n    return React.isValidElement(this.props.content)\n  }\n\n  get options() {\n    return {\n      ...getNativeTippyProps(this.props),\n      content: this.isReactElementContent ? this.container : this.props.content\n    }\n  }\n\n  get isManualTrigger() {\n    return this.props.trigger === 'manual'\n  }\n\n  componentDidMount() {\n    this.setState({ isMounted: true })\n\n    this.tip = tippy.one(ReactDOM.findDOMNode(this), this.options)\n\n    const { onCreate, isEnabled, isVisible } = this.props\n\n    if (onCreate) {\n      onCreate(this.tip)\n    }\n\n    if (isEnabled === false) {\n      this.tip.disable()\n    }\n\n    if (this.isManualTrigger && isVisible === true) {\n      this.tip.show()\n    }\n  }\n\n  componentDidUpdate() {\n    this.tip.set(this.options)\n\n    const { isEnabled, isVisible } = this.props\n\n    if (isEnabled === true) {\n      this.tip.enable()\n    }\n    if (isEnabled === false) {\n      this.tip.disable()\n    }\n\n    if (this.isManualTrigger) {\n      if (isVisible === true) {\n        this.tip.show()\n      }\n      if (isVisible === false) {\n        this.tip.hide()\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.tip.destroy()\n    this.tip = null\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.children}\n        {this.isReactElementContent &&\n          this.state.isMounted &&\n          ReactDOM.createPortal(this.props.content, this.container)}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default Tippy\n"],"names":["getNativeTippyProps","props","Object","keys","reduce","acc","key","REACT_ONLY_PROPS","indexOf","Tippy","state","isMounted","container","document","createElement","setState","tip","tippy","one","ReactDOM","findDOMNode","options","onCreate","isEnabled","isVisible","disable","isManualTrigger","show","set","enable","hide","destroy","React","Fragment","children","isReactElementContent","createPortal","content","isValidElement","trigger","Component","propTypes","PropTypes","oneOfType","string","element","isRequired","func","bool"],"mappings":"8+CASA,QAASA,EAAT,CAA6BC,CAA7B,CAAoC,OAC3BC,QAAOC,IAAPD,CAAYD,CAAZC,EAAmBE,MAAnBF,CAA0B,SAACG,CAAD,CAAMC,CAAN,CAAc,OACP,CAAC,CAAnCC,KAAiBC,OAAjBD,CAAyBD,CAAzBC,IACFF,EAAIC,CAAJD,EAAWJ,EAAMK,CAANL,GAENI,CAJF,CAAAH,CAKJ,EALIA,qMAJHK,GAAmB,CAAC,UAAD,CAAa,UAAb,CAAyB,WAAzB,CAAsC,WAAtC,EAYnBE,4KACJC,MAAQ,CAAEC,YAAF,IAERC,UAAgC,WAApB,QAAOC,SAAP,EAAmCA,SAASC,aAATD,CAAuB,KAAvBA,gEA0B3B,MACbE,SAAS,CAAEJ,YAAF,EADI,MAGbK,IAAMC,EAAMC,GAAND,CAAUE,EAASC,WAATD,CAAqB,IAArBA,CAAVF,CAAsC,KAAKI,OAA3CJ,CAHO,OAKyB,KAAKhB,MAAxCqB,IAAAA,SAAUC,IAAAA,UAAWC,IAAAA,UAEzBF,CAPc,EAQhBA,EAAS,KAAKN,GAAdM,CARgB,CAWdC,MAXc,OAYXP,IAAIS,SAZO,CAed,KAAKC,eAAL,EAAwBF,MAfV,OAgBXR,IAAIW,mDAIQ,MACdX,IAAIY,IAAI,KAAKP,QADC,OAGc,KAAKpB,MAA9BsB,IAAAA,UAAWC,IAAAA,UAEfD,MALe,OAMZP,IAAIa,QANQ,CAQfN,MARe,OASZP,IAAIS,SATQ,CAYf,KAAKC,eAZU,GAabF,MAba,OAcVR,IAAIW,MAdM,CAgBbH,MAhBa,OAiBVR,IAAIc,MAjBM,gDAsBE,MAChBd,IAAIe,SADY,MAEhBf,IAAM,qCAGJ,OAELgB,gBAAA,CAACA,EAAMC,QAAP,KAAA,CACG,KAAKhC,KAAL,CAAWiC,QADd,CAEG,KAAKC,qBAAL,EACC,KAAKzB,KAAL,CAAWC,SADZ,EAECQ,EAASiB,YAATjB,CAAsB,KAAKlB,KAAL,CAAWoC,OAAjClB,CAA0C,KAAKP,SAA/CO,CAJJ,+CAhEwB,OACnBa,GAAMM,cAANN,CAAqB,KAAK/B,KAAL,CAAWoC,OAAhCL,iCAGK,aAEPhC,EAAoB,KAAKC,KAAzBD,GACHqC,QAAS,KAAKF,qBAAL,CAA6B,KAAKvB,SAAlC,CAA8C,KAAKX,KAAL,CAAWoC,iDAIhD,OACU,QAAvB,QAAKpC,KAAL,CAAWsC,eA1BFP,EAAMQ,iBAApB/B,GAKGgC,SALHhC,CAKe,CACjB4B,QAASK,EAAUC,SAAVD,CAAoB,CAACA,EAAUE,MAAX,CAAmBF,EAAUG,OAA7B,CAApBH,EACNI,UAFc,CAGjBZ,SAAUQ,EAAUG,OAAVH,CAAkBI,UAHX,CAIjBxB,SAAUoB,EAAUK,IAJH,CAKjBvB,UAAWkB,EAAUM,IALJ,CAMjBzB,UAAWmB,EAAUM,IANJ"}